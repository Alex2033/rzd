<div class="home-inner-page" *ngIf="points$ | async as points">
  <header class="home-inner-header">
    <h1 class="home-title">Точки обслуживания</h1>
  </header>
  <div class="page-container">
    <!-- search -->
    <div class="search-block">
      <input
        type="text"
        name="search"
        inputmode="search"
        placeholder="Введите адрес"
        class="search-control"
        [(ngModel)]="searchText"
      />
      <svg width="2rem" height="2rem">
        <use xlink:href="assets/sprites/icons.svg#search"></use>
      </svg>
    </div>

    <h2 class="section-title">
      <ng-container
        *ngIf="(points | search: searchText)?.length; else notFound"
      >
        {{ (points | search: searchText)?.length }}
        <span
          appPluralRu
          [value]="(points | search: searchText)?.length"
          [arVariants]="[
            'медицинский центр',
            'медицинских центра',
            'медицинских центров'
          ]"
        ></span>
      </ng-container>
      <ng-template #notFound>По вашему запросу ничего не найдено</ng-template>
    </h2>

    <div class="service-points-cards" *ngIf="points">
      <div
        [routerLink]="['/service-points', card.id]"
        class="service-points-card"
        #cards
        *ngFor="let card of points | search: searchText:'name'"
      >
        <h3 class="card-title">{{ card.name }}</h3>
        <div class="card-body">
          <div class="card-info">
            <div class="card-icon">
              <svg width="1.4rem" height="1.8rem">
                <use xlink:href="assets/sprites/icons.svg#gps"></use>
              </svg>
            </div>
            <span>{{ card.location }}</span>
          </div>
          <div class="card-info">
            <div class="card-icon">
              <svg width="1.5rem" height="1.5rem">
                <use xlink:href="assets/sprites/icons.svg#clock"></use>
              </svg>
            </div>
            <span>{{ card.worktime }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
