<!-- introduce -->
<section class="introduce-section">
  <img
    class="introduce-image"
    src="assets/home/banner.jpg"
    alt="banner image"
  />

  <div class="introduce-description">
    <div class="introduce-title">
      <h1 class="home-title" [innerHTML]="'HOME.TITLE' | translate"></h1>
    </div>
    <div class="page-container">
      <div class="introduce-text">
        <p>
          {{ "HOME.WELCOME" | translate }}
        </p>
        <p>
          <span [innerHTML]="'HOME.URGENT' | translate"></span>
          <br />
          <span [innerHTML]="'HOME.EXPRESS' | translate"></span>
          <br />
          <span [innerHTML]="'HOME.STANDARD' | translate"></span>
        </p>

        <p>
          {{ "HOME.REGISTER_INFO" | translate }}
        </p>
      </div>
      <a
        [routerLink]="
          isAuth ? ['/cabinet', 'questionnaires'] : ['/auth', 'register']
        "
        class="introduce-button button"
        >{{ "BUTTON.SIGN_UP" | translate }}</a
      >
      <a class="login-link" [routerLink]="['/cabinet', 'questionnaires']">{{
        "BUTTON.HAVE_ACCOUNT" | translate
      }}</a>

      <p class="coupon-info">
        {{ "HOME.DISCOUNT_COUPON" | translate }}
      </p>

      <p class="introduce-warning">
        {{ "HOME.DIGITAL_CERTIFICATE" | translate }}
      </p>
    </div>
  </div>
</section>

<!-- how works -->
<section id="how-works" class="how-works-section">
  <div class="page-container">
    <h2 class="section-title">{{ "HOME.HOW_IT_WORKS.TITLE" | translate }}</h2>

    <ul class="works-list">
      <li class="works-list-item">
        <div class="works-list-image">
          <img src="assets/home/questionnaire.svg" alt="questionnaire icon" />
        </div>
        <span>{{ "HOME.HOW_IT_WORKS.SIGN_UP_TEXT" | translate }}</span>
      </li>
      <li class="works-list-item">
        <div class="works-list-image">
          <img src="assets/home/qr-code.svg" alt="qr-code icon" />
        </div>
        <span>{{ "HOME.HOW_IT_WORKS.SCAN_QR" | translate }}</span>
      </li>
      <li class="works-list-item">
        <div class="works-list-image">
          <img src="assets/home/undraw-map.svg" alt="undraw map icon" />
        </div>
        <span>{{ "HOME.HOW_IT_WORKS.TAKE_TEST" | translate }}</span>
      </li>
      <li class="works-list-item">
        <div class="works-list-image">
          <img src="assets/home/result.svg" alt="result icon" />
        </div>
        <span>{{ "HOME.HOW_IT_WORKS.RECEIVE_RESULT" | translate }}</span>
      </li>
    </ul>

    <p class="how-works-text">
      {{ "HOME.HOW_IT_WORKS.RELIABLE_RESULT" | translate }}
    </p>
  </div>
</section>

<!-- test necessity -->
<section id="test-necessity" class="test-necessity">
  <div class="page-container">
    <h2 class="section-title">
      {{ "HOME.COVID_TEST.TITLE" | translate }}
    </h2>
    <p
      [innerHTML]="
        'HOME.COVID_TEST.DOCUMENT_LINK'
          | translate
            : {
                link: 'http://publication.pravo.gov.ru/Document/View/0001202107060020?index=0&rangeSize=1'
              }
      "
    ></p>
    <div class="citizen-type">
      <h5 class="subtitle citizen-type-title primary-color">
        <svg width="1.4rem" height="1.4rem">
          <use xlink:href="assets/sprites/icons.svg#arrow-right"></use>
        </svg>
        <span>{{ "HOME.COVID_TEST.CITIZENS_TITLE" | translate }}</span>
      </h5>
      <p>
        {{ "HOME.COVID_TEST.CITIZENS_TEXT" | translate }}
      </p>
    </div>
    <div class="citizen-type">
      <h5 class="subtitle citizen-type-title primary-color">
        <svg width="1.4rem" height="1.4rem">
          <use xlink:href="assets/sprites/icons.svg#arrow-right"></use>
        </svg>
        <span>{{ "HOME.COVID_TEST.FOREIGN_CITIZENS_TITLE" | translate }}</span>
      </h5>
      <p>
        {{ "HOME.COVID_TEST.FOREIGN_CITIZENS_TEXT" | translate }}
      </p>
    </div>
  </div>
</section>

<!-- test types -->
<section id="test-type" class="test-types">
  <div class="page-container">
    <h2 class="section-title">{{ "HOME.TEST_TYPES.TITLE" | translate }}</h2>
  </div>
  <div class="custom-expansions">
    <mat-expansion-panel
      hideToggle
      class="custom-expansion"
      *ngFor="let service of services$ | async"
    >
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>
          {{ service.name }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-info">
        <p class="caption">{{ "HOME.TEST_TYPES.PRICE" | translate }}:</p>
        <p>{{ service.price }} {{ service.priceType }}</p>
      </div>

      <div class="custom-expansion-info">
        <p class="caption">
          {{ "HOME.TEST_TYPES.READINESS_TIME" | translate }}:
        </p>
        <p>{{ service.duration }}</p>
      </div>
      <div class="custom-expansion-info">
        <p class="caption">{{ "HOME.TEST_TYPES.LOCATION" | translate }}:</p>
        <p>
          {{ "HOME.TEST_TYPES.AVAILABLE_AT" | translate }}
          <a
            [routerLink]="['/service-points']"
            [queryParams]="{ serviceId: service.id }"
            class="points-link"
            >{{ service.numCenters }}
            <span
              appPluralRu
              [value]="service.numCenters"
              [arVariants]="[
                translate.instant('HOME.TEST_TYPES.MEDICINES_SINGLE'),
                translate.instant('HOME.TEST_TYPES.MEDICINES_MULTI'),
                translate.instant('HOME.TEST_TYPES.MEDICINES_MULTI')
              ]"
            ></span
          ></a>
        </p>
      </div>

      <div class="custom-expansion-buttons">
        <a [routerLink]="['/cabinet', 'questionnaires']" class="button">{{
          "BUTTON.TAKE_TEST" | translate
        }}</a>
        <a
          [routerLink]="['/services', service.id]"
          class="button no-bg accent"
          >{{ "BUTTON.MORE_DETAILS" | translate }}</a
        >
      </div>
    </mat-expansion-panel>
  </div>

  <div class="page-container">
    <a [routerLink]="['/services']" class="detailed-link">
      <span>{{ "BUTTON.VIEW_ALL" | translate }}</span>
      <svg width="2.2rem" height="1rem">
        <use xlink:href="assets/sprites/icons.svg#arrow-right-long"></use>
      </svg>
    </a>
  </div>
</section>

<!-- test location -->
<section id="test-location" class="test-location">
  <div class="page-container">
    <h2 class="section-title">{{ "HOME.TEST_LOCATION.TITLE" | translate }}</h2>
    <div class="test-location-text">
      <p>
        {{ "HOME.TEST_LOCATION.TEXT" | translate }}
      </p>
    </div>
    <div class="address-buttons">
      <button
        (click)="addressMode = 'map'"
        [class.stroke]="addressMode === 'map'"
        class="button primary service-detail-button"
      >
        {{ "BUTTON.ADDRESSES_MAP" | translate }}
      </button>
      <button
        (click)="addressMode = 'list'"
        [class.stroke]="addressMode === 'list'"
        class="button primary service-detail-button"
      >
        {{ "BUTTON.ADDRESSES_LIST" | translate }}
      </button>
    </div>
  </div>

  <!-- map -->
  <div class="map-container" [hidden]="addressMode !== 'map'">
    <ya-map
      (ready)="mapLoaded($event)"
      [options]="mapOptions"
      [state]="{ controls: [] }"
    >
      <ya-placemark
        (ready)="ready($event)"
        *ngFor="let point of servicePoints$ | async"
        [geometry]="[point.latitude, point.longtitude]"
        [options]="options"
        (yaclick)="selectMapPoint($event, point)"
      ></ya-placemark>
    </ya-map>

    <!-- point card -->
    <div class="point-card" [@slideUp] *ngIf="selectedPoint">
      <div class="point-card-top">
        <div
          class="point-card-name"
          [routerLink]="['/service-points', selectedPoint.id]"
        >
          {{ selectedPoint.name }}
        </div>
        <svg (click)="closeMapCard()" class="point-card-close">
          <use xlink:href="assets/sprites/icons.svg#close"></use>
        </svg>
      </div>
      <div class="point-card-content">
        <div class="point-card-infocards">
          <div class="point-card-infocard">
            <div class="point-card-infocard-icon">
              <svg width="1.8rem" height="1.8rem">
                <use xlink:href="assets/sprites/icons.svg#gps"></use>
              </svg>
            </div>
            <span>{{ selectedPoint.address }}</span>
          </div>
          <div class="point-card-infocard">
            <div class="point-card-infocard-icon">
              <svg width="1.5rem" height="1.5rem">
                <use xlink:href="assets/sprites/icons.svg#clock"></use>
              </svg>
            </div>
            <span>{{ selectedPoint.worktime }}</span>
          </div>
        </div>
        <a
          [routerLink]="['/cabinet', 'questionnaires']"
          class="point-card-button button no-bg accent"
          >Записаться</a
        >
      </div>
    </div>
  </div>

  <!-- points -->
  <div class="custom-expansions" [hidden]="addressMode !== 'list'">
    <mat-expansion-panel
      hideToggle
      class="custom-expansion"
      *ngFor="let point of servicePoints$ | async"
    >
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>
          {{ point.name }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-info">
        <p class="caption">{{ "HOME.TEST_LOCATION.ADDRESS" | translate }}:</p>
        <p>{{ point.address }}</p>
      </div>
      <div class="custom-expansion-info">
        <p class="caption">
          {{ "HOME.TEST_LOCATION.WORKING_HOURS" | translate }}:
        </p>
        <p>{{ point.worktime }}</p>
      </div>

      <div class="custom-expansion-buttons">
        <a [routerLink]="['/cabinet', 'questionnaires']" class="button">{{
          "BUTTON.TAKE_TEST" | translate
        }}</a>
        <a
          [routerLink]="['/service-points', point.id]"
          class="button no-bg accent"
          >{{ "BUTTON.MORE_DETAILS" | translate }}</a
        >
      </div>
    </mat-expansion-panel>
  </div>
  <div class="page-container more-detailed-link" *ngIf="addressMode === 'list'">
    <a [routerLink]="['/service-points']" class="detailed-link">
      <span>{{ "BUTTON.MORE_DETAILS" | translate }}</span>
      <svg width="2.2rem" height="1rem">
        <use xlink:href="assets/sprites/icons.svg#arrow-right-long"></use>
      </svg>
    </a>
  </div>
</section>

<!-- faq -->
<section id="faq" class="faq-section" #faq>
  <div class="page-container">
    <h2 class="section-title" [innerHTML]="'HOME.FAQ.TITLE' | translate"></h2>
  </div>

  <div class="custom-expansions">
    <!-- 1 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>{{
          "HOME.FAQ.RECEIVE_RESULT_TITLE" | translate
        }}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          {{ "HOME.FAQ.RECEIVE_RESULT_TEXT" | translate }}
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 2 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>{{
          "HOME.FAQ.AVAILABLE_LANGUAGES_TITLE" | translate
        }}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>{{ "HOME.FAQ.AVAILABLE_LANGUAGES_TEXT" | translate }}</p>
      </div>
    </mat-expansion-panel>
    <!-- 3 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>{{
          "HOME.FAQ.RECOMMENDATIONS_TITLE" | translate
        }}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Минимум за 1 час до сдачи теста нельзя: употреблять пищу, пить,
          чистить зубы, полоскать рот/горло, жевать жевательную резинку, курить,
          закапывать капли/спреи и промывать нос.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 4 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>Способы оплаты</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Безналичная оплата на сайте или в медицинском центре, на терминалах
          или у администратора.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 5 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>Как берется тест?</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>Мазок берется зондом из ротоглотки и носоглотки.</p>
      </div>
    </mat-expansion-panel>
    <!-- 6 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Если у меня признаки ОРВИ или я контактировал с пациентом, больным
          коронавирусной инфекцией?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Исследование доступно только бессимптомным пациентам. Пациентам,
          контактировавшим с больными COVID-19, или имеющим повышенную
          температуру тела и/или явные симптомы ОРВИ, рекомендуем обратиться в
          единый консультационный центр Роспотребнадзора по тел.: <br />
          <a class="custom-expansion-phone" href="tel:88005554943"
            >8-800-555-49-43</a
          >
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 7 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Что делать, если результат положительный?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Все положительные результаты выполненных лабораторных исследований
          будут передаваться в Роспотребнадзор, ведомство самостоятельно
          свяжется с пациентами для дальнейших действий.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 8 -->
    <mat-expansion-panel
      #refundsPanel
      id="refunds-panel"
      hideToggle
      class="custom-expansion"
    >
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>Оформление возвратов </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Для того, чтобы осуществить возврат по заказу необходимо заполнить
          заявление на возврат в свободной форме и отправить его по электронному
          адресу info.lab@rzd-medicine.ru или передать администратору
          медицинского центра. Адреса точек обслуживания можете посмотреть
          <a [routerLink]="['/service-points']" class="expansion-points-link"
            >здесь</a
          >. При одобрении заявки денежные средства возвращаются на реквизиты, с
          которых производилась оплата.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 9 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Какой документ использовать для вылетов за рубеж?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          В случае, если результаты теста требуются вам для международных
          поездок, рекомендуем указывать данные заграничного паспорта.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 10 -->
    <mat-expansion-panel #cashbackPanel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Что делать, если я оплатил заказ онлайн, но передумал сдавать тест?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Вы можете вернуть денежные средства
          <span
            class="primary-color"
            (click)="openRefundsPanel(refundsPanel, cashbackPanel)"
            >оформив заявление на возврат
          </span>
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 11 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Сколько действует оформленный заказ на сайте?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>Оформленный на сайте заказ действует бессрочно.</p>
      </div>
    </mat-expansion-panel>
    <!-- 12 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Как получить QR-код на официальном сайте мэра Москвы?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Для получения QR-кода на официальном сайте
          <a class="redirect-link" href="https://immune.mos.ru" target="_blank">
            <span>мэра Москвы</span>
            <svg>
              <use xlink:href="assets/sprites/icons.svg#expand-outline"></use>
            </svg>
          </a>
          при оформлении заказа на сайте необходимо проставить галочку напротив
          «Необходим цифровой сертификат (QR-код) на ЕМИАС» или же сообщить об
          этом администратору медицинского центра.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 13 -->
    <mat-expansion-panel hideToggle class="custom-expansion">
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Как получить QR-код на Госуслугах (ЕМИАС)?
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Для получения QR-кода на Госуслугах при оформлении заказа необходимо
          проставить галочку напротив «Необходим цифровой сертификат (QR-код) на
          ЕМИАС» или же сообщить об этом администратору медицинского центра.
          Обращаем ваше внимание, что получение QR-кода возможно только в случае
          <strong
            >оформления на Паспорт гражданина РФ, для детей – Свидетельства о
            рождении, и при указании правильного номера полиса ОМС и
            СНИЛС.</strong
          >
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 14 -->
    <mat-expansion-panel
      id="corp-clients-faq"
      hideToggle
      class="custom-expansion"
      #corpPanel
    >
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title>Корпоративным клиентам </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Корпоративным клиентам доступна оплата заказов за счет компании. У
          заказов есть лимит. Оплатить заказ сверх лимита корпоративного счета
          нельзя.
        </p>
      </div>
    </mat-expansion-panel>
    <!-- 15 -->
    <mat-expansion-panel
      id="corp-clients-faq"
      hideToggle
      class="custom-expansion"
      #corpPanel
    >
      <mat-expansion-panel-header
        [expandedHeight]="'9rem'"
        [collapsedHeight]="'9rem'"
      >
        <mat-panel-title
          >Как получить результат в приложении «Путешествую без
          COVID-19»?</mat-panel-title
        >
      </mat-expansion-panel-header>
      <div class="custom-expansion-text">
        <p>
          Результат ПЦР-тестирования "РЖД-Медицина" можно получить в приложении
          "Путешествую без COVID-19" в виде QR-кода, который можно использовать
          при пересечении границы. Для этого вам понадобится:
        </p>
        <ol class="expansion-ordered-list">
          <li>
            Скачать приложение "Путешествую без COVID-19" из AppStore или Google
            Play;
          </li>
          <li>Выбрать ближайший ПЦР-пункт "РЖД-Медицина" из списка;</li>
          <li>
            Перейти на сайт (<a
              href="https://lab.rzd-medicine.ru"
              class="expansion-points-link"
              >https://lab.rzd-medicine.ru</a
            >), зарегистрироваться и оформить заказ, выбрав необходимый вид
            ПЦР-тестирования;
          </li>
          <li>Пройти исследование в удобное для вас время;</li>
          <li>
            После получения результата перейти в приложение и добавить тест,
            отсканировав документ, введя 4 последние цифры телефона и указав
            номер заказа;
          </li>
          <li>
            Убедиться, что информация о результатах теста доступна и что сроки
            действия теста действительны на дату отправления;
          </li>
          <li>При пересечении границы показать QR-код контролеру.</li>
        </ol>
      </div>
    </mat-expansion-panel>
  </div>
</section>

<app-footer></app-footer>
